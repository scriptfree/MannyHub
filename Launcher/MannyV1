-- Create a ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "BlackRectangleUI"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Create a Frame
local blackRectangle = Instance.new("Frame")
blackRectangle.Name = "BlackRectangle"
blackRectangle.Size = UDim2.new(0, 150, 0, 180) -- Width set to 150, Height set to 180
blackRectangle.Position = UDim2.new(0.5, -75, 0.5, -90) -- Centered on the screen with new width
blackRectangle.BackgroundColor3 = Color3.new(0, 0, 0) -- Black color
blackRectangle.Parent = screenGui

-- Create a TextLabel for the title
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "TitleLabel"
titleLabel.Size = UDim2.new(0, 150, 0, 20) -- Width: 150 pixels, Height: 20 pixels
titleLabel.Position = UDim2.new(0, 10, 0, 0) -- Moved slightly to the right
titleLabel.BackgroundTransparency = 1 -- Make the background transparent
titleLabel.Text = "Manny Hub" -- The title text
titleLabel.TextColor3 = Color3.fromRGB(0, 255, 0) -- Green color for the text
titleLabel.TextXAlignment = Enum.TextXAlignment.Left -- Align text to the left
titleLabel.TextSize = 12 -- Set the font size to 12
titleLabel.Parent = blackRectangle

-- Function to create a green button
local function createGreenButton(name, text, position)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(0, 100, 0, 30) -- Width: 100 pixels, Height: 30 pixels
    button.Position = position
    button.BackgroundColor3 = Color3.new(0, 1, 0) -- Green color
    button.Text = text
    button.TextColor3 = Color3.new(0, 0, 0) -- Black color for the text
    button.TextSize = 10 -- Set the font size to 10
    button.TextScaled = false -- Disable text scaling
    button.Parent = blackRectangle
    
    -- Add rounded corners to the button
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8) -- Slightly rounded corners
    corner.Parent = button
    
    return button
end

-- Create the green buttons
local launchButton = createGreenButton("LaunchButton", "Launch", UDim2.new(0.5, -50, 0, 50))
local listButton = createGreenButton("ListButton", "List", UDim2.new(0.5, -50, 0, 90))
local discordButton = createGreenButton("DiscordButton", "Discord", UDim2.new(0.5, -50, 0, 130))

-- Create a TextButton for the red button
local redButton = Instance.new("TextButton")
redButton.Name = "RedButton"
redButton.Size = UDim2.new(0, 20, 0, 20) -- Width: 20 pixels, Height: 20 pixels
redButton.Position = UDim2.new(1, -20, 0, 0) -- Top right of the black rectangle
redButton.BackgroundColor3 = Color3.new(1, 0, 0) -- Red color
redButton.Text = "X"
redButton.TextColor3 = Color3.new(1, 1, 1) -- White color for the text
redButton.TextScaled = true -- Scale the text to fit the button
redButton.Parent = blackRectangle

-- Add functionality to execute a loadstring when the Launch button is clicked
launchButton.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/scriptfree/MannyHub/main/Launcher/Loader"))()
end)

-- Add functionality to copy the GitHub link to clipboard when the List button is clicked
listButton.MouseButton1Click:Connect(function()
    -- Set the clipboard to the GitHub link
    setclipboard("https://github.com/scriptfree/MannyHub/tree/main?tab=readme-ov-file#supported-games")

    -- Notify the user that the link was copied
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Notification";
        Text = "Link copied to clipboard!";
        Duration = 2;
    })
end)

-- Add functionality to copy the Discord link to clipboard and notify when the Discord button is clicked
discordButton.MouseButton1Click:Connect(function()
    -- Set the clipboard to the Discord invite link
    setclipboard("https://discord.gg/7wKHbPgKQd")

    -- Notify the user that the invite link was copied
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Notification";
        Text = "Invite link copied to clipboard!";
        Duration = 2;
    })
end)

-- Add functionality to delete the GUI and run a script when the red button is clicked
redButton.MouseButton1Click:Connect(function()
    -- Run the notification script
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Notification";
        Text = "Goodbye!";
        Duration = 2;
    })
    
    -- Destroy the GUI
    screenGui:Destroy()
end)

-- Drag functionality
local UserInputService = game:GetService("UserInputService")

local dragging = false
local dragStart
local startPos

-- Function to handle the start of dragging
local function onDragStart(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = blackRectangle.Position
    end
end

-- Function to handle dragging movement
local function onDragMove(input)
    if dragging then
        local delta = input.Position - dragStart
        blackRectangle.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end

-- Function to handle the end of dragging
local function onDragEnd()
    dragging = false
end

-- Connect input events to dragging functions
blackRectangle.InputBegan:Connect(onDragStart)
UserInputService.InputChanged:Connect(onDragMove)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        onDragEnd()
    end
end)
